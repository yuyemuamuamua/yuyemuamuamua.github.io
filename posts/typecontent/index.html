<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>wangsHome | 类型</title>
    <meta name="description" content=" ">
    <link rel="canonical" href="https://yuyemuamuamua.github.io/posts/typecontent/" />
    <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
    <meta property="og:title" content="类型" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://yuyemuamuamua.github.io/posts/typecontent/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-06T18:54:32+08:00" />
<meta property="article:modified_time" content="2023-01-06T18:54:32+08:00" />

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="类型"/>
<meta name="twitter:description" content=""/>

    
        
    
    <link rel="stylesheet" href='/css/style.css' />
    <link rel="stylesheet" href='/css/search.css' />
    <link rel="stylesheet" href='/css/list.css' />
    <link rel="stylesheet" href='/css/terms.css' />
    <link rel="stylesheet" href='/css/taxonomy.css' />
    <link rel="stylesheet" href='/css/home.css' />
    <link rel="stylesheet" href='/css/syntax.css' />
    
    <link rel="stylesheet" href='/css/shortcode.css' />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href='/css/_custom.css' />
    <style>
         
    </style>
    
    
    <script>
    MathJax = {
      tex: {
        inlineMath: [["$", "$"]],
      },
      displayMath: [
        ["$$", "$$"],
        ["\[\[", "\]\]"],
      ],
      svg: {
        fontCache: "global",
      },
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script
    id="MathJax-script"
    async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
  ></script>


    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script src="/js/lazysizes.min.js" async=""></script>
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/search.js"></script>
    <script src="/js/yes.js"></script>
    
</head><body style="font-family: ,'Helvetica Neue', Helvetica, Arial, 'PingFang SC', 'Hiragino Sans GB', 'Heiti SC', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif;">
        <div class="loading">
            <div class="loading-bg"></div>
            <div class="loading-long">
                <div class="loading-short"></div>
            </div>
        </div>

        <header>
    <nav class="navbar">
        <div class="navbar-brand">
            <a href="/">
                <span class="logo">wangsHome</span>
            </a>
        </div>
        <div class="navbar-menu">
            
                <a href="/">
                    <div class="menu-item">
                        <div class="hengtiao-root">
                            <div class="hengtiao"></div>
                            <div class="name text-wbd-reverse"><i class='fa fa-home'></i> 主页</div>
                        </div>
                    </div>
                </a>
            
                <a href="/posts">
                    <div class="menu-item">
                        <div class="hengtiao-root">
                            <div class="hengtiao"></div>
                            <div class="name text-wbd-reverse"><i class='fa fa-book'></i> 所有文章</div>
                        </div>
                    </div>
                </a>
            
                <a href="/categories">
                    <div class="menu-item">
                        <div class="hengtiao-root">
                            <div class="hengtiao"></div>
                            <div class="name text-wbd-reverse"><i class='fa fa-folder-open'></i> 分类</div>
                        </div>
                    </div>
                </a>
            
                <a href="/tags">
                    <div class="menu-item">
                        <div class="hengtiao-root">
                            <div class="hengtiao"></div>
                            <div class="name text-wbd-reverse"><i class='fa fa-tags'></i> 标签</div>
                        </div>
                    </div>
                </a>
            
                <a href="/about">
                    <div class="menu-item">
                        <div class="hengtiao-root">
                            <div class="hengtiao"></div>
                            <div class="name text-wbd-reverse"><i class='fa fa-info-circle'></i> 关于</div>
                        </div>
                    </div>
                </a>
            
            <div class="navbar-burger">
                <div class="burger-btn"><span><i class="fa fa-navicon"></i></span></div>
            </div>
            
            
            <div class="search-in"><span><i class="fa fa-search"></i></span></div>
            
                <div class="mode">
                    <span class="sun"><i class="fa fa-sun-o"></i></span>
                    <span class="moon"><i class="fa fa-moon-o"></i></span>
                </div>
            
        </div>
    </nav>
    <div class="burger-items">
        
        <a href="/">
            <div class="burger-item">
                <i class='fa fa-home'></i> 主页
            </div>
        </a>
        
        <a href="/posts">
            <div class="burger-item">
                <i class='fa fa-book'></i> 所有文章
            </div>
        </a>
        
        <a href="/categories">
            <div class="burger-item">
                <i class='fa fa-folder-open'></i> 分类
            </div>
        </a>
        
        <a href="/tags">
            <div class="burger-item">
                <i class='fa fa-tags'></i> 标签
            </div>
        </a>
        
        <a href="/about">
            <div class="burger-item">
                <i class='fa fa-info-circle'></i> 关于
            </div>
        </a>
        
    </div>
    <div class="header-rest"></div>
</header>


        <div id="content">








    <div class="hero">
        
            <div class="hero-img">
                <img class="lazyload" src="/images/thumbnail.gif" data-src="/images/default.jpg" alt="">
            </div>
        
        <div class="hero-content">
            <div class="hero-title">类型</div>
            <div class="hero-subtitle"></div>
            <div class="hero-date">
                    <span class="no-wrap"><i class="fa fa-calendar"></i> 发布于: 2023-1-6 &nbsp;</span>
                    <span class="no-wrap"><i class="fa fa-calendar-check-o"></i> 更新于: 2023-1-6 &nbsp;</span>
                    <span class="no-wrap"><i class="fa fa-folder"></i>
                        未收录
                        
                    </span>    
            </div>
            <div class="timelong">
                <span class="no-wrap"><i class="fa fa-pencil"></i> 文章字数: 1491 &nbsp;</span>
                <span class="no-wrap"><i class="fa fa-clock-o"></i> 阅读时间: 3 分钟 &nbsp;</span>
                
            </div>
        </div>
    </div>




<div class="zhuti-0">
    <div class="container">
        <div class="zhuti">
            <div class="zhuti-l">
                




    


<div class="content-root">
    <div class="long">
        <button class="tosides-1 text-wbd">
            <i class="fa fa-arrow-right"></i>
        </button>
        <button class="tosides-2 text-wbd">
            <i class="fa fa-arrow-left"></i>
        </button>
        <button class="toup text-wbd">
            <i class="fa fa-arrow-up"></i>
        </button>
    </div>
    
        <div class="content">
            <div class="content-self">
                <h2 id="类型的可见性">类型的可见性</h2>
<p>类型一般可以指定为public或者internal。前者公开类型，使所有的程序集都能访问该类型，后者只能在定义类型的程序集中访问。为了方便，也可以使用<code>InternalsVisibleTo</code>特性指定友元程序集，当一个程序集认了友元后，友元程序集就能访问这个程序集中的所有internal类型和成员。</p>
<h2 id="成员的可访问性">成员的可访问性</h2>
<p>首先有个前提，一个成员如果要被访问，那首先类型要是可访问的。以下是一个成员的访问性修饰符的关系：</p>
<table>
<thead>
<tr>
<th>CLR术语</th>
<th>C#术语</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Private</td>
<td>private</td>
<td>这个成员只能由定义的类型或者任何嵌套的类型的方法去访问。</td>
</tr>
<tr>
<td>Family</td>
<td>protected</td>
<td>这个成员只能由定义的类型、任何嵌套的类型、不管在什么程序集中派生的类型中的方法访问。</td>
</tr>
<tr>
<td>Family and Assembly</td>
<td>不支持</td>
<td>成员只能由定义的类型、任何嵌套的类型或者同一个程序集中派生的类型中的方法访问。</td>
</tr>
<tr>
<td>Assembly</td>
<td>internal</td>
<td>成员只能由定义的类型的程序集中的方法访问。</td>
</tr>
<tr>
<td>Family and Assembly</td>
<td>protected internal</td>
<td>成员可由任何嵌套类型，任何程序集中的派生类型、或定义类型的程序集中的方法访问。</td>
</tr>
<tr>
<td>Public</td>
<td>public</td>
<td>成员可以由任何程序集中任何方法访问。</td>
</tr>
</tbody>
</table>
<p>C#中，默认成员的可访问性为限制最大的那个。也可以C#语言规范参考以声明访问性的。在派生类型中重写基类的成员时，C#要求重写的成员访问性和被重写的访问性一致。但在CLR中，允许重写是往更宽松的访问性重写。</p>
<h2 id="静态类型">静态类型</h2>
<p>静态类型以为着这个类型不需要被实例化。在静态类型中，只包含了静态成员。这种类型的作用，一般是组合一组相关的成员。static关键字只能用于引用类型，值类型默认是允许被实例化的，这是无法改变的。静态类型由一些限制如下：</p>
<ol>
<li>静态类型必须直接从<code>System.Object</code>类型派生。</li>
<li>静态类型不能实现任何的接口，因为接口的方法只有实例才能调用。</li>
<li>静态类型中只能包含静态成员。</li>
<li>静态类型不能作为字段，方法参数，局部变量使用。</li>
</ol>
<p>静态类型被C#编译器定义为<code>abstract</code>和<code>sealed</code>。并且，静态类型中也不能定义实例构造方法。</p>
<h2 id="分部的类型结构和接口">分部的类型、结构和接口</h2>
<p>partial关键字可以告诉编译器类型、结构或者接口的定义源代码要分散到多个文件中。这样有一些好处：</p>
<ol>
<li>源代码控制更加灵活。个人感觉这个比较有用，可以让多人合作时尽量避免冲突，修改到同一个文件。</li>
<li>如果类型的工作比较复杂。那么使用分部操作可以进行逻辑的功能划分，让类型结构更加清楚明了。也可以轻松增加或删除功能模块。</li>
<li>代码的拆分。</li>
</ol>
<p>分部功能纯粹是C#编译器的实现。在编译时，会将分部的类型合并成一个类型。这也解释了，一个类型的所有源代码必须使用一种语言完成。</p>
<h2 id="clr是如何调用虚方法属性事件的">CLR是如何调用虚方法、属性、事件的</h2>
<p>CLR在调用方法的时候，会根据方法的标志比如是实例方法、虚方法还是静态方法生成不同的指令。</p>
<ol>
<li><code>call</code>指令。这个指令可以调用所有类型的方法。用它调用静态方法时，要指定方法的定义类型。调用实例方法或虚方法时，必须指定引用了对象的变量。默认的，这个指令假定对象不为空。或者说，变量本身的类型就指明了方法的类型。如果类型没有定义方法呢，那就回溯基类去匹配。这个指令通常以非虚的方式调用虚方法。</li>
<li><code>callvirt</code>指令。这个指令不能调用静态方法。就意味着必须指定一个对象的变量。这个指令调用非虚的实例方法时，变量本身的类型指定了方法的定义类型。反之，调用虚方法时，CLR会找到这个变量的实际类型，然后用多态的方式调用。为了确定类型，就要保证变量不为null。所以JIT编译器会进行判空，显而易见，这种方式比<code>call</code>指令要慢。即使是在调用非虚实例方法也要进行判空。</li>
</ol>
<p>但是呢，上面的指令不是非此即彼的。有的时候呢，也会用<code>call</code>指令调用虚方法。比如在重写的一个方法里调用<code>base.XXX()</code>。那么只能使用<code>call</code>指令，不然，就死循环了。</p>
            </div>
            
                <div class="tags">
                    
                </div>
            
        </div>
        
            
                <div class="pre-next">
                    
    
        
        <a href="https://yuyemuamuamua.github.io/posts/helloworld/" class="pre pre-last" style="text-align: center;">
            <span class="pre-icon"><i class="fa fa-hand-o-left"></i></span>
            <div class="pre-title-root">
                <span>Helloworld</span>
            </div>
        </a>
        
    
    

                </div>
            
        
    
</div>

    


            </div>
            <div class="zhuti-r">
                
<div class="zhuti-r-0">
    <div class="zhuti-r-1">
        
        <div id="r1">
            

<div class="about-zuozhe">
    <div class="zuozhe">
        
            <div class="datou">
                <img class="lazyload" src="/images/thumbnail.gif" data-src="/images/author.jpeg" alt="">
            </div>
        
        <div class="name-jianjie">
            <div class="name">wangs</div>
            <div class="jianjie">
                东隅已逝，桑榆非晚
            </div>
        </div>
    </div>

    <div class="type">
        <a href='
                    /posts/
                '>
            <p>文章</p>
            <p>3</p>
        </a>
        <a href='
                    /categories/
                '>
            <p>分类</p>
            <p>0</p>
        </a>
        <a href='
                    /tags/
                '>
            <p>标签</p>
            <p>0</p>
        </a>
    </div>

    <a href="">
        <div class="follow"></div>
    </a>
    <div class="link">
        
    </div>
</div>
            <div class="mulu">
    <div class="dong"></div>
    <div class="zhi">
        <div class="wenzi">
            <div class="zhi-mulu text-wbd">目录</div>
            <div class="mulu-items">
            </div>
        </div>
    </div>
</div>
            



    
    


<div class="other">
    <div class="other-up">
        <div class="other-qita text-wbd">相关文章</div>
        <div class="xian"></div>
    </div>
    <div class="list">
        
            <a href="https://yuyemuamuamua.github.io/posts/helloworld/">
                
<a href="https://yuyemuamuamua.github.io/posts/helloworld/">
    <div class="list-item">
        <div class="icon-other-root">
            
                <div class="icon-other" style="background-image: url( /images/default.jpg );"></div>
            
        </div>
        <div class="list-right">
            <div class="other-title">
                Helloworld
            </div>
            <div class="other-summary"></div>
            <div class="other-date">2023-1-6</div>
        </div>
    </div>
</a>
            </a>
        
    </div>
</div>
        </div>
        <div id="r2">
            
        </div> 
    </div>
</div>

            </div>
        </div>
    </div>
</div>


        </div>

        <footer class="footer">
    
        <div class="container">
            <div class="footer-items">
                
                
                    <div class="footer-item">
                        © 2023-2023 <a href="">wangs</a>
                    </div>
                
                
                    <div class="footer-item">
                        Theme by <a href="https://github.com/xioyito/NewBee">NewBee</a> | Powered by <a href="https://gohugo.io/">Hugo</a>
                    </div>
                
            </div>
        </div>
    

    
</footer>


        
        <div class="search-root">
    <div class="search-zz"></div>
    <div class="search">
        <div class="sheader anniu">
            <div class="sh-l">
                <input type="text" placeholder='请输入关键词' id="search-key">
                <span class="sclear"><i class="fa fa-close"></i></span>
            </div>
            <div class="sh-r">
                <button>搜索</button>
            </div>
        </div>
        <div class="sbody">
            <div class="sbody-1">
                <div class="stip"></div>
            </div>
        </div>
    </div>
</div>
        








    
    

    
    

    
    


<script type="text/javascript">
    var mode_custom = "auto";
    var postsCount =  3 ;
    var arrPosts = [{"link":"https://yuyemuamuamua.github.io/posts/typecontent/","plain":"类型的可见性 类型一般可以指定为public或者internal。前者公开类型，使所有的程序集都能访问该类型，后者只能在定义类型的程序集中访问。为了方便，也可以使用InternalsVisibleTo特性指定友元程序集，当一个程序集认了友元后，友元程序集就能访问这个程序集中的所有internal类型和成员。\n成员的可访问性 首先有个前提，一个成员如果要被访问，那首先类型要是可访问的。以下是一个成员的访问性修饰符的关系：\nCLR术语 C#术语 说明 Private private 这个成员只能由定义的类型或者任何嵌套的类型的方法去访问。 Family protected 这个成员只能由定义的类型、任何嵌套的类型、不管在什么程序集中派生的类型中的方法访问。 Family and Assembly 不支持 成员只能由定义的类型、任何嵌套的类型或者同一个程序集中派生的类型中的方法访问。 Assembly internal 成员只能由定义的类型的程序集中的方法访问。 Family and Assembly protected internal 成员可由任何嵌套类型，任何程序集中的派生类型、或定义类型的程序集中的方法访问。 Public public 成员可以由任何程序集中任何方法访问。 C#中，默认成员的可访问性为限制最大的那个。也可以C#语言规范参考以声明访问性的。在派生类型中重写基类的成员时，C#要求重写的成员访问性和被重写的访问性一致。但在CLR中，允许重写是往更宽松的访问性重写。\n静态类型 静态类型以为着这个类型不需要被实例化。在静态类型中，只包含了静态成员。这种类型的作用，一般是组合一组相关的成员。static关键字只能用于引用类型，值类型默认是允许被实例化的，这是无法改变的。静态类型由一些限制如下：\n静态类型必须直接从System.Object类型派生。 静态类型不能实现任何的接口，因为接口的方法只有实例才能调用。 静态类型中只能包含静态成员。 静态类型不能作为字段，方法参数，局部变量使用。 静态类型被C#编译器定义为abstract和sealed。并且，静态类型中也不能定义实例构造方法。\n分部的类型、结构和接口 partial关键字可以告诉编译器类型、结构或者接口的定义源代码要分散到多个文件中。这样有一些好处：\n源代码控制更加灵活。个人感觉这个比较有用，可以让多人合作时尽量避免冲突，修改到同一个文件。 如果类型的工作比较复杂。那么使用分部操作可以进行逻辑的功能划分，让类型结构更加清楚明了。也可以轻松增加或删除功能模块。 代码的拆分。 分部功能纯粹是C#编译器的实现。在编译时，会将分部的类型合并成一个类型。这也解释了，一个类型的所有源代码必须使用一种语言完成。\nCLR是如何调用虚方法、属性、事件的 CLR在调用方法的时候，会根据方法的标志比如是实例方法、虚方法还是静态方法生成不同的指令。\ncall指令。这个指令可以调用所有类型的方法。用它调用静态方法时，要指定方法的定义类型。调用实例方法或虚方法时，必须指定引用了对象的变量。默认的，这个指令假定对象不为空。或者说，变量本身的类型就指明了方法的类型。如果类型没有定义方法呢，那就回溯基类去匹配。这个指令通常以非虚的方式调用虚方法。 callvirt指令。这个指令不能调用静态方法。就意味着必须指定一个对象的变量。这个指令调用非虚的实例方法时，变量本身的类型指定了方法的定义类型。反之，调用虚方法时，CLR会找到这个变量的实际类型，然后用多态的方式调用。为了确定类型，就要保证变量不为null。所以JIT编译器会进行判空，显而易见，这种方式比call指令要慢。即使是在调用非虚实例方法也要进行判空。 但是呢，上面的指令不是非此即彼的。有的时候呢，也会用call指令调用虚方法。比如在重写的一个方法里调用base.XXX()。那么只能使用call指令，不然，就死循环了。\n","pubDate":"2023-01-06","title":"类型"},{"link":"https://yuyemuamuamua.github.io/posts/helloworld/","plain":"你好世界！\n","pubDate":"2023-01-06","title":"Helloworld"},{"link":"https://yuyemuamuamua.github.io/posts/talk-with-self-2022/","plain":"2021快过去了，这不知是个好消息还是坏消息。2021依旧在疫情的笼罩下，偶尔的爆发也给我们带来了一些不便，但是，总是比以前好一些了。毕业一年多了，我依旧感觉有些迷茫和不坚定，这也许是生活给我带来的一些烦恼。\n由于疫情的原因，许多事情并不像自己想的那样进行着。有很多的未知突如其来，但是也只能默默接受着。2021感觉很累，很平淡，没有波澜，偶尔的心血来潮，不久后又潮水退去，感觉没有做什么事情。无论是工作，生活，学习，仿佛没有多大进步，其实就是原地踏步。很少有时间静下心来写点什么，因为还有很多事情去做。身体也变得胖了，这让我感觉更累了。似乎缺少一个出口吧。\n先说工作吧。工作的内容其实很单调，也没有多大的提升。我只能自己去学习，可能那样才不会迷失自己。工作占据了生活的大部分时间，但是我似乎并没有得到什么快乐。我被束缚住了。或许我实在坚持不住了我可能会去旅游，带上女朋友一起。没有办法，如果工作上变得麻木，我可能就再也不能成长了。得时刻清醒着，这点很重要。\n由于平时周末时间比较多，偶尔会去学习。或者在忙碌了一天躺在床上学点什么。但是学什么确实一个问题。我得不到答案。很多新东西要学，铺天盖地，琳琅满目。我有点迷失，拿不定主意。在一些群里，我偶尔听到他们在谈论什么，我就去了解一下。这确实让我见到了一些新鲜事物，但是没用。于是我转身学习一些以前忽略的基础。这些知识不能立竿见影，但是能让自己变得稳固。沉淀自己仿佛是我找到的一个出口，这能让我变得平静。没有老师，没有系统，学习起来很吃力，但是得继续。社会的内卷化已经蔓延到各个地方。我不喜欢这样的氛围。学习得纯粹点，我比较喜欢。\n四月份租了一个新的房间。房间空间比原来大多了。新的环境也有新的心情吧。不和别人合租就没有很多琐事了。但是还是抵挡不住变胖。这都是经常和女朋友去吃好吃的原因。当然也和自己不是爱运动有关系。生活的缩影在一个小小的地方铺展开来。其实挺好的。开心就好了嘛，不要愁眉苦脸的。这是我的信条。生活即使平淡，也要乐观。虽然大多数时候是装的。\n关于社交，2021我几乎没有社交。这一年了我没有和任何的以前的朋友出去见面过。之前和一个好友的约定，被一而再的推辞。离开了学校，我就很少跟以前的朋友联系了。偶尔听他们在群里对话，也只是看看而已。这可能和我的性格有关系。我其实算是比较内向，和人打交道也不是我的强项。另一方面是，可能我和他们所处的行业或者环境不一样吧。我比较喜欢自己单独相处，即使是真正的知心朋友，我也不会轻易打扰到他们。还有一个我觉得比较重要的一点是因为交际带来的比较。我不喜欢比较。回家后亲戚的比较，朋友之间的的比较。都让我觉得不自在。感到不舒服为什么要去呢。做好自己，做好真实的自己就好了。自然点比较好。\n2021过得真快。随着年龄的增加，我感觉自己的心灵也慢慢变老了。很多时候对一些活动不感兴趣了。不喜欢玩游戏了，也不喜欢买东西了，不喜欢去玩儿了，也不喜欢电子产品了等等。就是很自然地不喜欢新鲜的事物了。太压抑了。整个社会都是如此。或许是因为疫情，或许是因为我的朋友很少，或是其他原因。不是压抑，是非常压抑。最近行业的一些消息让开发者，让中小企业压抑，面对年龄，对职业生涯感到压抑，金钱的压抑，落差压抑等等。找到出口才行。2021马上就是过去式了，前面有希望么，不知道。但是不能放弃希望，坚持下去。总会好的。\n","pubDate":"2021-12-31","title":"和自己对话2022"}];
    var search_theEnd = "到底了";
    var search_nothing = "什么也没找到";
    var search_found = "找到";
    var search_result = "条结果";
    var search_results = "条结果";
</script>





    </body>
</html>

